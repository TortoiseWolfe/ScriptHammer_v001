<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" width="1200" height="900">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
    <linearGradient id="accentGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#d946ef"/>
    </linearGradient>
    <style>
      .heading { fill: #ffffff; font-family: system-ui, sans-serif; font-size: 14px; font-weight: bold; }
      .text-sm { fill: #94a3b8; font-family: system-ui, sans-serif; font-size: 10px; }
      .text-md { fill: #cbd5e1; font-family: system-ui, sans-serif; font-size: 12px; }
      .text-muted { fill: #64748b; font-family: system-ui, sans-serif; font-size: 10px; }
      .annotation { fill: #8b5cf6; font-family: monospace; font-size: 9px; }
    </style>
  </defs>

  <!-- Background -->
  <rect width="1200" height="900" fill="url(#bgGrad)"/>

  <!-- Dot grid pattern -->
  <g opacity="0.03">
    <pattern id="dots" width="30" height="30" patternUnits="userSpaceOnUse">
      <circle cx="15" cy="15" r="1" fill="#fff"/>
    </pattern>
    <rect width="1200" height="900" fill="url(#dots)"/>
  </g>

  <!-- Accent line top -->
  <rect x="0" y="0" width="1200" height="3" fill="url(#accentGrad)"/>

  <!-- Title -->
  <text x="600" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#64748b" letter-spacing="2">EVENT BOOKING FORM</text>

  <!-- ==================== STEP 1: DETAILS FORM (Left) ==================== -->
  <g transform="translate(30, 45)">
    <text x="175" y="0" text-anchor="middle" class="text-muted">Step 1: Enter Details</text>

    <!-- Form Container -->
    <rect x="0" y="15" width="350" height="540" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>

    <!-- Header -->
    <rect x="0" y="15" width="350" height="60" rx="8" fill="#334155"/>
    <rect x="0" y="67" width="350" height="8" fill="#334155"/>
    <text x="20" y="35" fill="#fff" font-size="12">&lt; Back</text>
    <text x="175" y="55" text-anchor="middle" class="heading">Enter Details</text>

    <!-- Event Summary -->
    <g transform="translate(20, 90)">
      <rect x="0" y="0" width="310" height="70" rx="6" fill="#0f172a"/>
      <circle cx="35" cy="35" r="20" fill="#8b5cf6"/>
      <text x="35" y="40" text-anchor="middle" fill="#fff" font-size="11" font-weight="bold">JD</text>
      <text x="70" y="25" fill="#fff" font-size="11" font-weight="600">30 Minute Meeting</text>
      <text x="70" y="42" class="text-muted" font-size="10">Tue, January 7, 2025</text>
      <text x="70" y="58" class="text-muted" font-size="10">10:00 AM - 10:30 AM (EST)</text>
    </g>

    <!-- Name Field -->
    <g transform="translate(20, 175)">
      <text x="0" y="12" class="text-sm">Name *</text>
      <rect x="0" y="20" width="310" height="44" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
      <text x="15" y="48" class="text-md">Sarah Johnson</text>
    </g>

    <!-- Email Field -->
    <g transform="translate(20, 255)">
      <text x="0" y="12" class="text-sm">Email *</text>
      <rect x="0" y="20" width="310" height="44" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
      <text x="15" y="48" class="text-md">sarah.johnson@email.com</text>
    </g>

    <!-- Phone Field (Optional) -->
    <g transform="translate(20, 335)">
      <text x="0" y="12" class="text-sm">Phone (optional)</text>
      <rect x="0" y="20" width="310" height="44" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
      <text x="15" y="48" class="text-muted">+1 (555) 123-4567</text>
    </g>

    <!-- Notes Field -->
    <g transform="translate(20, 415)">
      <text x="0" y="12" class="text-sm">Additional Notes</text>
      <rect x="0" y="20" width="310" height="70" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
      <text x="15" y="42" class="text-muted">Please share anything that will help</text>
      <text x="15" y="58" class="text-muted">prepare for our meeting...</text>
    </g>

    <!-- Schedule Button -->
    <g transform="translate(20, 505)">
      <rect x="0" y="0" width="310" height="44" rx="6" fill="url(#accentGrad)"/>
      <text x="155" y="28" text-anchor="middle" fill="#fff" font-size="12" font-weight="600">Schedule Event</text>
    </g>
  </g>

  <!-- ==================== STEP 2: CONFIRMATION (Center) ==================== -->
  <g transform="translate(420, 45)">
    <text x="175" y="0" text-anchor="middle" class="text-muted">Step 2: Confirmation</text>

    <!-- Confirmation Container -->
    <rect x="0" y="15" width="350" height="540" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>

    <!-- Success Icon -->
    <g transform="translate(125, 50)">
      <circle cx="50" cy="50" r="45" fill="#22c55e20" stroke="#22c55e" stroke-width="2"/>
      <text x="50" y="60" text-anchor="middle" fill="#22c55e" font-size="40">&#x2713;</text>
    </g>

    <!-- Success Message -->
    <text x="175" y="170" text-anchor="middle" fill="#fff" font-size="18" font-weight="bold">You're Scheduled!</text>
    <text x="175" y="195" text-anchor="middle" class="text-md">A calendar invitation has been sent</text>
    <text x="175" y="212" text-anchor="middle" class="text-md">to your email address.</text>

    <!-- Event Details Card -->
    <g transform="translate(20, 235)">
      <rect x="0" y="0" width="310" height="140" rx="8" fill="#0f172a"/>

      <text x="15" y="30" class="text-muted" font-size="9">EVENT</text>
      <text x="15" y="50" fill="#fff" font-size="12" font-weight="600">30 Minute Meeting</text>
      <text x="15" y="70" class="text-muted">with John Doe</text>

      <line x1="15" y1="85" x2="295" y2="85" stroke="#475569" stroke-width="1"/>

      <text x="15" y="105" class="text-muted" font-size="9">WHEN</text>
      <text x="15" y="125" fill="#fff" font-size="11">Tuesday, January 7, 2025</text>
      <text x="200" y="125" class="text-muted" font-size="10">10:00 - 10:30 AM EST</text>
    </g>

    <!-- Add to Calendar Buttons -->
    <g transform="translate(20, 390)">
      <text x="155" y="12" text-anchor="middle" class="text-sm">Add to Calendar</text>

      <rect x="0" y="25" width="95" height="36" rx="6" fill="#334155"/>
      <text x="47" y="48" text-anchor="middle" class="text-md">Google</text>

      <rect x="107" y="25" width="95" height="36" rx="6" fill="#334155"/>
      <text x="155" y="48" text-anchor="middle" class="text-md">Outlook</text>

      <rect x="215" y="25" width="95" height="36" rx="6" fill="#334155"/>
      <text x="262" y="48" text-anchor="middle" class="text-md">Apple</text>
    </g>

    <!-- Action Buttons -->
    <g transform="translate(20, 480)">
      <rect x="0" y="0" width="150" height="44" rx="6" fill="#475569"/>
      <text x="75" y="28" text-anchor="middle" fill="#fff" font-size="11">Reschedule</text>

      <rect x="160" y="0" width="150" height="44" rx="6" fill="#ef4444"/>
      <text x="235" y="28" text-anchor="middle" fill="#fff" font-size="11">Cancel Event</text>
    </g>
  </g>

  <!-- ==================== CONSENT STATE (Right) ==================== -->
  <g transform="translate(810, 45)">
    <text x="175" y="0" text-anchor="middle" class="text-muted">Consent Required State</text>

    <!-- Consent Container -->
    <rect x="0" y="15" width="350" height="280" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>

    <!-- Lock Icon -->
    <g transform="translate(125, 40)">
      <circle cx="50" cy="50" r="40" fill="#eab30820" stroke="#eab308" stroke-width="2"/>
      <text x="50" y="60" text-anchor="middle" fill="#eab308" font-size="30">&#x1F512;</text>
    </g>

    <!-- Consent Message -->
    <text x="175" y="155" text-anchor="middle" fill="#fff" font-size="14" font-weight="600">Calendar Consent Required</text>

    <g transform="translate(20, 170)">
      <text x="155" y="15" text-anchor="middle" class="text-md">To display the calendar, we need your</text>
      <text x="155" y="32" text-anchor="middle" class="text-md">consent to load third-party content.</text>
      <text x="155" y="49" text-anchor="middle" class="text-muted">This will enable scheduling functionality.</text>
    </g>

    <!-- Consent Button -->
    <g transform="translate(50, 240)">
      <rect x="0" y="0" width="250" height="44" rx="6" fill="url(#accentGrad)"/>
      <text x="125" y="28" text-anchor="middle" fill="#fff" font-size="12" font-weight="600">Accept and Show Calendar</text>
    </g>

    <!-- ==================== POPUP MODE ==================== -->
    <text x="175" y="330" text-anchor="middle" class="text-muted">Popup Mode Button</text>

    <rect x="0" y="345" width="350" height="100" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>

    <g transform="translate(75, 370)">
      <rect x="0" y="0" width="200" height="50" rx="8" fill="url(#accentGrad)"/>
      <text x="100" y="32" text-anchor="middle" fill="#fff" font-size="14" font-weight="600">Schedule a Meeting</text>
    </g>

    <text x="175" y="475" text-anchor="middle" class="text-muted" font-size="9">Clicking opens modal overlay with calendar</text>

    <!-- ==================== LOADING STATE ==================== -->
    <text x="175" y="510" text-anchor="middle" class="text-muted">Loading State</text>

    <rect x="0" y="525" width="350" height="100" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>

    <g transform="translate(125, 555)">
      <!-- Spinner -->
      <circle cx="50" cy="30" r="20" fill="none" stroke="#334155" stroke-width="3"/>
      <path d="M50,10 A20,20 0 0,1 70,30" fill="none" stroke="#8b5cf6" stroke-width="3" stroke-linecap="round">
        <animateTransform attributeName="transform" type="rotate" from="0 50 30" to="360 50 30" dur="1s" repeatCount="indefinite"/>
      </path>
    </g>
    <text x="175" y="610" text-anchor="middle" class="text-muted">Loading calendar...</text>
  </g>

  <!-- ==================== MOBILE BOOKING FLOW ==================== -->
  <g transform="translate(810, 650)">
    <text x="175" y="0" text-anchor="middle" class="text-muted">Mobile: Prefill from Auth</text>

    <rect x="0" y="15" width="350" height="100" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>

    <!-- Prefilled indicator -->
    <g transform="translate(15, 30)">
      <rect x="0" y="0" width="320" height="70" rx="6" fill="#0f172a"/>
      <circle cx="35" cy="35" r="20" fill="#22c55e20" stroke="#22c55e" stroke-width="1"/>
      <text x="35" y="40" text-anchor="middle" fill="#22c55e" font-size="14">&#x2713;</text>

      <text x="70" y="25" fill="#fff" font-size="11">Sarah Johnson</text>
      <text x="70" y="42" class="text-muted" font-size="10">sarah.johnson@email.com</text>
      <text x="70" y="58" fill="#22c55e" font-size="9">Auto-filled from account</text>
    </g>
  </g>

  <!-- ==================== ANNOTATIONS ==================== -->

  <!-- Form Validation Annotation -->
  <g transform="translate(30, 600)">
    <rect x="0" y="0" width="170" height="55" rx="4" fill="#8b5cf610" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="10" y="18" class="annotation">Form Validation</text>
    <text x="10" y="32" class="text-muted" font-size="8">Name and Email required</text>
    <text x="10" y="44" class="text-muted" font-size="8">Client-side validation</text>
  </g>

  <!-- Prefill Annotation -->
  <g transform="translate(210, 600)">
    <rect x="0" y="0" width="170" height="55" rx="4" fill="#8b5cf610" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="10" y="18" class="annotation">Auto-Prefill</text>
    <text x="10" y="32" class="text-muted" font-size="8">If user is logged in,</text>
    <text x="10" y="44" class="text-muted" font-size="8">name/email pre-populated</text>
  </g>

  <!-- Calendar Export Annotation -->
  <g transform="translate(420, 600)">
    <rect x="0" y="0" width="170" height="55" rx="4" fill="#8b5cf610" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="10" y="18" class="annotation">Calendar Export</text>
    <text x="10" y="32" class="text-muted" font-size="8">Google, Outlook, Apple</text>
    <text x="10" y="44" class="text-muted" font-size="8">ICS file download</text>
  </g>

  <!-- Analytics Events Annotation -->
  <g transform="translate(600, 600)">
    <rect x="0" y="0" width="170" height="55" rx="4" fill="#8b5cf610" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="10" y="18" class="annotation">Analytics Events</text>
    <text x="10" y="32" class="text-muted" font-size="8">calendar_viewed, time_selected</text>
    <text x="10" y="44" class="text-muted" font-size="8">calendar_scheduled tracked</text>
  </g>

  <!-- Consent Flow Annotation -->
  <g transform="translate(30, 665)">
    <rect x="0" y="0" width="170" height="55" rx="4" fill="#8b5cf610" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="10" y="18" class="annotation">GDPR Consent Flow</text>
    <text x="10" y="32" class="text-muted" font-size="8">useConsent() hook checks</text>
    <text x="10" y="44" class="text-muted" font-size="8">functional consent first</text>
  </g>

  <!-- Popup Mode Annotation -->
  <g transform="translate(210, 665)">
    <rect x="0" y="0" width="170" height="55" rx="4" fill="#8b5cf610" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="10" y="18" class="annotation">Popup Mode</text>
    <text x="10" y="32" class="text-muted" font-size="8">PopupWidget/data-cal-link</text>
    <text x="10" y="44" class="text-muted" font-size="8">for inline CTAs</text>
  </g>

  <!-- Reschedule/Cancel Annotation -->
  <g transform="translate(420, 665)">
    <rect x="0" y="0" width="170" height="55" rx="4" fill="#8b5cf610" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="10" y="18" class="annotation">Manage Booking</text>
    <text x="10" y="32" class="text-muted" font-size="8">Reschedule and Cancel</text>
    <text x="10" y="44" class="text-muted" font-size="8">links in confirmation</text>
  </g>

  <!-- SSR Disabled Annotation -->
  <g transform="translate(600, 665)">
    <rect x="0" y="0" width="170" height="55" rx="4" fill="#8b5cf610" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="10" y="18" class="annotation">SSR: false</text>
    <text x="10" y="32" class="text-muted" font-size="8">Dynamic import prevents</text>
    <text x="10" y="44" class="text-muted" font-size="8">server-side rendering</text>
  </g>

  <!-- Spec Reference -->
  <text x="600" y="885" text-anchor="middle" class="text-muted" font-size="9">Spec: 080-calendar-integration - Booking form, confirmation, consent states</text>
</svg>
