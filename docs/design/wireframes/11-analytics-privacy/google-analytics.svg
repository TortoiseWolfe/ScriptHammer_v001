<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" width="1200" height="900">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
    <linearGradient id="accentGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#d946ef"/>
    </linearGradient>
    <linearGradient id="gaGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#f97316"/>
    </linearGradient>
    <style>
      .heading { fill: #ffffff; font-family: system-ui, sans-serif; font-size: 14px; font-weight: bold; }
      .text-sm { fill: #94a3b8; font-family: system-ui, sans-serif; font-size: 10px; }
      .text-md { fill: #cbd5e1; font-family: system-ui, sans-serif; font-size: 12px; }
      .text-muted { fill: #64748b; font-family: system-ui, sans-serif; font-size: 10px; }
      .annotation { fill: #8b5cf6; font-family: monospace; font-size: 10px; }
    </style>
  </defs>

  <!-- Background -->
  <rect width="1200" height="900" fill="url(#bgGrad)"/>

  <!-- Dot grid pattern -->
  <g opacity="0.05">
    <pattern id="dots" width="30" height="30" patternUnits="userSpaceOnUse">
      <circle cx="15" cy="15" r="1" fill="#fff"/>
    </pattern>
    <rect width="1200" height="900" fill="url(#dots)"/>
  </g>

  <!-- Accent line top -->
  <rect x="0" y="0" width="1200" height="3" fill="url(#accentGrad)"/>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#64748b" letter-spacing="1">GOOGLE ANALYTICS 4 INTEGRATION</text>

  <!-- ==================== SECTION 1: GA4 Dashboard Overview ==================== -->

  <!-- Dashboard Panel -->
  <rect x="40" y="50" width="560" height="280" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="60" y="75" class="heading">Analytics Dashboard</text>

  <!-- GA4 logo area -->
  <rect x="190" y="63" width="70" height="18" rx="3" fill="#f59e0b" opacity="0.2"/>
  <text x="225" y="76" text-anchor="middle" fill="#f59e0b" font-size="10" font-weight="bold">GA4</text>

  <!-- Real-time stats cards -->
  <rect x="60" y="95" width="165" height="70" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="75" y="115" fill="#64748b" font-size="9">Active Users (Now)</text>
  <text x="75" y="145" fill="#fff" font-size="28" font-weight="bold">247</text>
  <rect x="145" y="132" width="50" height="16" rx="3" fill="#22c55e" opacity="0.2"/>
  <text x="170" y="143" text-anchor="middle" fill="#22c55e" font-size="9">+12%</text>

  <rect x="235" y="95" width="165" height="70" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="250" y="115" fill="#64748b" font-size="9">Page Views (Today)</text>
  <text x="250" y="145" fill="#fff" font-size="28" font-weight="bold">3.2K</text>
  <rect x="320" y="132" width="50" height="16" rx="3" fill="#22c55e" opacity="0.2"/>
  <text x="345" y="143" text-anchor="middle" fill="#22c55e" font-size="9">+8%</text>

  <rect x="410" y="95" width="165" height="70" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="425" y="115" fill="#64748b" font-size="9">Avg. Session</text>
  <text x="425" y="145" fill="#fff" font-size="28" font-weight="bold">4:32</text>
  <text x="490" y="145" fill="#64748b" font-size="12">min</text>

  <!-- Traffic chart -->
  <rect x="60" y="175" width="515" height="140" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="75" y="195" fill="#64748b" font-size="9">Traffic Overview (Last 7 Days)</text>

  <!-- Chart line -->
  <polyline points="85,280 120,265 160,270 200,250 240,240 280,255 320,230 360,220 400,235 440,210 480,200 520,205 550,190"
            stroke="#8b5cf6" stroke-width="2" fill="none"/>
  <!-- Chart area fill -->
  <polygon points="85,280 120,265 160,270 200,250 240,240 280,255 320,230 360,220 400,235 440,210 480,200 520,205 550,190 550,290 85,290"
           fill="#8b5cf6" opacity="0.1"/>

  <!-- X axis labels -->
  <text x="85" y="305" fill="#64748b" font-size="8">Mon</text>
  <text x="160" y="305" fill="#64748b" font-size="8">Tue</text>
  <text x="240" y="305" fill="#64748b" font-size="8">Wed</text>
  <text x="320" y="305" fill="#64748b" font-size="8">Thu</text>
  <text x="400" y="305" fill="#64748b" font-size="8">Fri</text>
  <text x="480" y="305" fill="#64748b" font-size="8">Sat</text>
  <text x="550" y="305" fill="#64748b" font-size="8">Sun</text>

  <!-- ==================== SECTION 2: Web Vitals Integration ==================== -->

  <!-- Web Vitals Panel -->
  <rect x="620" y="50" width="540" height="280" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="640" y="75" class="heading">Web Vitals Tracking</text>
  <text x="800" y="75" class="text-muted">(Sent to GA4)</text>

  <!-- LCP Card -->
  <rect x="640" y="95" width="160" height="100" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="655" y="115" fill="#64748b" font-size="9">LCP (Largest Contentful Paint)</text>
  <text x="655" y="150" fill="#fff" font-size="32" font-weight="bold">2.1</text>
  <text x="700" y="150" fill="#64748b" font-size="14">s</text>
  <rect x="655" y="165" width="60" height="18" rx="3" fill="#22c55e" opacity="0.2"/>
  <text x="685" y="178" text-anchor="middle" fill="#22c55e" font-size="10">Good</text>
  <text x="655" y="188" fill="#64748b" font-size="8">Target: &lt; 2.5s</text>

  <!-- FID Card -->
  <rect x="810" y="95" width="160" height="100" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="825" y="115" fill="#64748b" font-size="9">FID (First Input Delay)</text>
  <text x="825" y="150" fill="#fff" font-size="32" font-weight="bold">45</text>
  <text x="868" y="150" fill="#64748b" font-size="14">ms</text>
  <rect x="825" y="165" width="60" height="18" rx="3" fill="#22c55e" opacity="0.2"/>
  <text x="855" y="178" text-anchor="middle" fill="#22c55e" font-size="10">Good</text>
  <text x="825" y="188" fill="#64748b" font-size="8">Target: &lt; 100ms</text>

  <!-- CLS Card -->
  <rect x="980" y="95" width="160" height="100" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="995" y="115" fill="#64748b" font-size="9">CLS (Cumulative Layout Shift)</text>
  <text x="995" y="150" fill="#fff" font-size="32" font-weight="bold">0.08</text>
  <rect x="995" y="165" width="60" height="18" rx="3" fill="#22c55e" opacity="0.2"/>
  <text x="1025" y="178" text-anchor="middle" fill="#22c55e" font-size="10">Good</text>
  <text x="995" y="188" fill="#64748b" font-size="8">Target: &lt; 0.1</text>

  <!-- Additional vitals row -->
  <rect x="640" y="205" width="245" height="55" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="655" y="225" fill="#64748b" font-size="9">TTFB (Time to First Byte)</text>
  <text x="655" y="248" fill="#fff" font-size="20" font-weight="bold">180ms</text>
  <rect x="750" y="235" width="50" height="16" rx="3" fill="#22c55e" opacity="0.2"/>
  <text x="775" y="246" text-anchor="middle" fill="#22c55e" font-size="9">Good</text>

  <rect x="895" y="205" width="245" height="55" rx="6" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="910" y="225" fill="#64748b" font-size="9">FCP (First Contentful Paint)</text>
  <text x="910" y="248" fill="#fff" font-size="20" font-weight="bold">1.2s</text>
  <rect x="1000" y="235" width="50" height="16" rx="3" fill="#22c55e" opacity="0.2"/>
  <text x="1025" y="246" text-anchor="middle" fill="#22c55e" font-size="9">Good</text>

  <!-- GA4 event code -->
  <rect x="640" y="270" width="500" height="50" rx="4" fill="#334155"/>
  <text x="655" y="290" fill="#64748b" font-size="9">Events sent to GA4:</text>
  <text x="655" y="307" fill="#8b5cf6" font-family="monospace" font-size="9">gtag('event', 'LCP', { value: 2100, metric_rating: 'good' })</text>

  <!-- ==================== SECTION 3: Consent-Based Activation ==================== -->

  <!-- Consent Panel -->
  <rect x="40" y="350" width="370" height="200" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="60" y="375" class="heading">Consent-Based Activation</text>

  <!-- Flow diagram -->
  <rect x="60" y="395" width="100" height="40" rx="4" fill="#0f172a" stroke="#475569"/>
  <text x="110" y="420" text-anchor="middle" fill="#cbd5e1" font-size="10">Page Load</text>

  <path d="M160 415 L195 415" stroke="#475569" stroke-width="1.5" fill="none"/>
  <polygon points="193,410 200,415 193,420" fill="#475569"/>

  <rect x="200" y="395" width="100" height="40" rx="4" fill="#0f172a" stroke="#eab308"/>
  <text x="250" y="415" text-anchor="middle" fill="#eab308" font-size="9">Check Consent</text>
  <text x="250" y="428" text-anchor="middle" fill="#64748b" font-size="8">analytics: ?</text>

  <!-- Branch: Granted -->
  <path d="M250 435 L250 465 L150 465 L150 485" stroke="#22c55e" stroke-width="1.5" fill="none"/>
  <text x="180" y="478" fill="#22c55e" font-size="8">granted</text>

  <rect x="80" y="485" width="140" height="50" rx="4" fill="#22c55e" opacity="0.1" stroke="#22c55e"/>
  <text x="150" y="505" text-anchor="middle" fill="#22c55e" font-size="10">Load GA4 Script</text>
  <text x="150" y="520" text-anchor="middle" fill="#64748b" font-size="8">Track page views</text>

  <!-- Branch: Denied -->
  <path d="M250 435 L250 465 L350 465 L350 485" stroke="#ef4444" stroke-width="1.5" fill="none"/>
  <text x="310" y="478" fill="#ef4444" font-size="8">denied</text>

  <rect x="280" y="485" width="120" height="50" rx="4" fill="#ef4444" opacity="0.1" stroke="#ef4444"/>
  <text x="340" y="505" text-anchor="middle" fill="#ef4444" font-size="10">No GA4</text>
  <text x="340" y="520" text-anchor="middle" fill="#64748b" font-size="8">Privacy preserved</text>

  <!-- ==================== SECTION 4: Custom Events Tracking ==================== -->

  <!-- Events Panel -->
  <rect x="430" y="350" width="350" height="200" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="450" y="375" class="heading">Custom Events Tracking</text>

  <!-- Events list -->
  <rect x="450" y="390" width="310" height="145" rx="4" fill="#0f172a"/>

  <!-- Event categories -->
  <rect x="465" y="405" width="130" height="22" rx="3" fill="#334155"/>
  <text x="530" y="420" text-anchor="middle" fill="#8b5cf6" font-size="9">UI Interactions</text>

  <text x="475" y="445" fill="#cbd5e1" font-size="10">• theme_change</text>
  <text x="610" y="445" fill="#64748b" font-size="9">"dark", "light"</text>

  <text x="475" y="462" fill="#cbd5e1" font-size="10">• pwa_install</text>
  <text x="610" y="462" fill="#64748b" font-size="9">"accepted"</text>

  <text x="475" y="479" fill="#cbd5e1" font-size="10">• form_submit</text>
  <text x="610" y="479" fill="#64748b" font-size="9">"contact"</text>

  <text x="475" y="496" fill="#cbd5e1" font-size="10">• search</text>
  <text x="610" y="496" fill="#64748b" font-size="9">"query text"</text>

  <text x="475" y="513" fill="#cbd5e1" font-size="10">• page_view</text>
  <text x="610" y="513" fill="#64748b" font-size="9">"auto on navigate"</text>

  <!-- ==================== SECTION 5: Debug Mode ==================== -->

  <!-- Debug Panel -->
  <rect x="800" y="350" width="360" height="200" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="820" y="375" class="heading">Debug Mode</text>
  <rect x="910" y="363" width="55" height="18" rx="3" fill="#eab308" opacity="0.2"/>
  <text x="938" y="376" text-anchor="middle" fill="#eab308" font-size="9">DEV ONLY</text>

  <!-- Debug console mock -->
  <rect x="820" y="390" width="320" height="145" rx="4" fill="#0f172a"/>
  <text x="830" y="408" fill="#64748b" font-size="9">Console Output (development)</text>

  <text x="830" y="430" fill="#22c55e" font-family="monospace" font-size="9">[GA4] Initialized: G-XXXXX</text>
  <text x="830" y="448" fill="#3b82f6" font-family="monospace" font-size="9">[GA4] Consent: analytics=granted</text>
  <text x="830" y="466" fill="#d946ef" font-family="monospace" font-size="9">[GA4] page_view: /dashboard</text>
  <text x="830" y="484" fill="#d946ef" font-family="monospace" font-size="9">[GA4] LCP: 2100ms (good)</text>
  <text x="830" y="502" fill="#d946ef" font-family="monospace" font-size="9">[GA4] theme_change: "dark"</text>
  <text x="830" y="520" fill="#eab308" font-family="monospace" font-size="9">[GA4] debug_mode: true</text>

  <!-- ==================== SECTION 6: GA4 Configuration ==================== -->

  <!-- Config Panel -->
  <rect x="40" y="570" width="370" height="160" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="60" y="595" class="heading">Configuration</text>

  <!-- Env variables -->
  <rect x="60" y="610" width="330" height="105" rx="4" fill="#0f172a"/>
  <text x="70" y="628" fill="#64748b" font-size="9">.env.local</text>

  <text x="70" y="652" fill="#8b5cf6" font-family="monospace" font-size="10">NEXT_PUBLIC_GA_MEASUREMENT_ID</text>
  <text x="290" y="652" fill="#94a3b8" font-family="monospace" font-size="10">=</text>
  <text x="300" y="652" fill="#22c55e" font-family="monospace" font-size="10">G-XXXXXXXXXX</text>

  <text x="70" y="680" fill="#64748b" font-size="9">GitHub Actions Secret</text>
  <rect x="70" y="690" width="240" height="18" rx="3" fill="#334155"/>
  <text x="80" y="703" fill="#94a3b8" font-family="monospace" font-size="9">NEXT_PUBLIC_GA_MEASUREMENT_ID</text>

  <!-- ==================== SECTION 7: CSP Headers ==================== -->

  <!-- CSP Panel -->
  <rect x="430" y="570" width="350" height="160" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="450" y="595" class="heading">CSP Header Updates</text>

  <!-- CSP code -->
  <rect x="450" y="610" width="310" height="105" rx="4" fill="#0f172a"/>
  <text x="460" y="628" fill="#64748b" font-size="9">next.config.ts</text>

  <text x="460" y="650" fill="#8b5cf6" font-family="monospace" font-size="9">script-src</text>
  <text x="520" y="650" fill="#94a3b8" font-family="monospace" font-size="9">'self'</text>
  <text x="460" y="665" fill="#22c55e" font-family="monospace" font-size="9">  googletagmanager.com</text>
  <text x="460" y="680" fill="#22c55e" font-family="monospace" font-size="9">  google-analytics.com;</text>

  <text x="460" y="700" fill="#8b5cf6" font-family="monospace" font-size="9">connect-src</text>
  <text x="525" y="700" fill="#94a3b8" font-family="monospace" font-size="9">'self'</text>
  <text x="460" y="715" fill="#22c55e" font-family="monospace" font-size="9">  analytics.google.com;</text>

  <!-- ==================== SECTION 8: Ad Blocker Handling ==================== -->

  <!-- Ad Blocker Panel -->
  <rect x="800" y="570" width="360" height="160" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="820" y="595" class="heading">Ad Blocker Handling</text>

  <!-- Graceful degradation -->
  <rect x="820" y="615" width="320" height="100" rx="4" fill="#0f172a"/>

  <rect x="835" y="630" width="14" height="14" rx="3" fill="#22c55e" opacity="0.2"/>
  <path d="M838 637 L841 640 L848 633" stroke="#22c55e" stroke-width="1.5" fill="none"/>
  <text x="858" y="641" fill="#cbd5e1" font-size="10">Graceful degradation</text>

  <rect x="835" y="655" width="14" height="14" rx="3" fill="#22c55e" opacity="0.2"/>
  <path d="M838 662 L841 665 L848 658" stroke="#22c55e" stroke-width="1.5" fill="none"/>
  <text x="858" y="666" fill="#cbd5e1" font-size="10">No errors thrown</text>

  <rect x="835" y="680" width="14" height="14" rx="3" fill="#22c55e" opacity="0.2"/>
  <path d="M838 687 L841 690 L848 683" stroke="#22c55e" stroke-width="1.5" fill="none"/>
  <text x="858" y="691" fill="#cbd5e1" font-size="10">Site fully functional</text>

  <text x="835" y="710" fill="#64748b" font-size="9">window.gtag check before every call</text>

  <!-- ==================== SECTION 9: Mobile Analytics View ==================== -->

  <!-- Mobile Frame -->
  <rect x="40" y="750" width="180" height="140" rx="20" fill="#0f172a" stroke="#475569" stroke-width="2"/>
  <rect x="90" y="755" width="80" height="4" rx="2" fill="#334155"/>

  <!-- Mobile content -->
  <rect x="50" y="770" width="160" height="25" fill="#1e293b"/>
  <text x="130" y="787" text-anchor="middle" fill="#fff" font-size="10" font-weight="bold">Analytics</text>

  <!-- Mini stats -->
  <rect x="55" y="800" width="70" height="40" rx="4" fill="#1e293b"/>
  <text x="90" y="818" text-anchor="middle" fill="#64748b" font-size="7">Users</text>
  <text x="90" y="835" text-anchor="middle" fill="#fff" font-size="14" font-weight="bold">247</text>

  <rect x="135" y="800" width="70" height="40" rx="4" fill="#1e293b"/>
  <text x="170" y="818" text-anchor="middle" fill="#64748b" font-size="7">Views</text>
  <text x="170" y="835" text-anchor="middle" fill="#fff" font-size="14" font-weight="bold">3.2K</text>

  <!-- Mini chart -->
  <rect x="55" y="845" width="150" height="30" rx="4" fill="#1e293b"/>
  <polyline points="65,870 85,865 105,868 125,860 145,855 165,858 185,850 195,852"
            stroke="#8b5cf6" stroke-width="1.5" fill="none"/>

  <text x="130" y="890" text-anchor="middle" class="annotation">Mobile View</text>

  <!-- ==================== SECTION 10: Implementation Code ==================== -->

  <!-- Implementation Panel -->
  <rect x="240" y="750" width="450" height="140" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="260" y="775" class="heading">GoogleAnalytics Component</text>

  <!-- Code block -->
  <rect x="260" y="790" width="410" height="85" rx="4" fill="#0f172a"/>

  <text x="270" y="810" fill="#d946ef" font-family="monospace" font-size="9">export default function</text>
  <text x="410" y="810" fill="#22c55e" font-family="monospace" font-size="9">GoogleAnalytics()</text>
  <text x="510" y="810" fill="#94a3b8" font-family="monospace" font-size="9">{</text>

  <text x="280" y="828" fill="#d946ef" font-family="monospace" font-size="9">const</text>
  <text x="310" y="828" fill="#8b5cf6" font-family="monospace" font-size="9">{ consent }</text>
  <text x="390" y="828" fill="#94a3b8" font-family="monospace" font-size="9">= useConsent();</text>

  <text x="280" y="846" fill="#d946ef" font-family="monospace" font-size="9">if</text>
  <text x="300" y="846" fill="#94a3b8" font-family="monospace" font-size="9">(!consent.analytics)</text>
  <text x="430" y="846" fill="#d946ef" font-family="monospace" font-size="9">return null</text>
  <text x="500" y="846" fill="#94a3b8" font-family="monospace" font-size="9">;</text>

  <text x="280" y="864" fill="#d946ef" font-family="monospace" font-size="9">return</text>
  <text x="320" y="864" fill="#94a3b8" font-family="monospace" font-size="9">&lt;</text>
  <text x="330" y="864" fill="#22c55e" font-family="monospace" font-size="9">Script</text>
  <text x="370" y="864" fill="#8b5cf6" font-family="monospace" font-size="9">src</text>
  <text x="390" y="864" fill="#94a3b8" font-family="monospace" font-size="9">="gtag.js" /&gt;;</text>

  <text x="270" y="875" fill="#94a3b8" font-family="monospace" font-size="9">}</text>

  <!-- ==================== SECTION 11: Performance Impact ==================== -->

  <!-- Performance Panel -->
  <rect x="710" y="750" width="450" height="140" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="730" y="775" class="heading">Performance Impact</text>

  <!-- Lighthouse scores -->
  <rect x="730" y="790" width="200" height="85" rx="4" fill="#0f172a"/>
  <text x="745" y="810" fill="#64748b" font-size="9">Lighthouse Scores</text>

  <!-- Score circles -->
  <circle cx="775" cy="845" r="20" fill="none" stroke="#22c55e" stroke-width="3"/>
  <text x="775" y="850" text-anchor="middle" fill="#22c55e" font-size="12" font-weight="bold">100</text>
  <text x="775" y="875" text-anchor="middle" fill="#64748b" font-size="8">Perf</text>

  <circle cx="830" cy="845" r="20" fill="none" stroke="#22c55e" stroke-width="3"/>
  <text x="830" y="850" text-anchor="middle" fill="#22c55e" font-size="12" font-weight="bold">100</text>
  <text x="830" y="875" text-anchor="middle" fill="#64748b" font-size="8">A11y</text>

  <circle cx="885" cy="845" r="20" fill="none" stroke="#22c55e" stroke-width="3"/>
  <text x="885" y="850" text-anchor="middle" fill="#22c55e" font-size="12" font-weight="bold">100</text>
  <text x="885" y="875" text-anchor="middle" fill="#64748b" font-size="8">SEO</text>

  <!-- Load time -->
  <rect x="950" y="790" width="190" height="85" rx="4" fill="#0f172a"/>
  <text x="965" y="810" fill="#64748b" font-size="9">GA4 Script Load</text>

  <text x="965" y="840" fill="#94a3b8" font-size="10">Strategy:</text>
  <text x="1020" y="840" fill="#8b5cf6" font-size="10">afterInteractive</text>

  <text x="965" y="862" fill="#94a3b8" font-size="10">Impact:</text>
  <rect x="1010" y="852" width="60" height="14" rx="3" fill="#22c55e" opacity="0.2"/>
  <text x="1040" y="862" text-anchor="middle" fill="#22c55e" font-size="9">Minimal</text>

</svg>